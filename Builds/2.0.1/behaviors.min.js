(function(){function a(e){var d={};for(var f in e){d[f]=e[f]}return d}function c(d){d.addEventListener=d.addEventListener||function(f,e){this.attachEvent("on"+f,e)};d.removeEventListener=d.removeEventListener||function(f,e){this.detachEvent("on"+f,e)}}c(window.Element.prototype);c(window.document);c(window);function b(d){if(!d.dispatchEvent){d.dispatchEvent=function(e){if(!e.target){e=a(e);e.target=this}e.currentTarget=this;var f=(this.customEventHandlers||{})[e.type]||[];for(var g=0;g<f.length;g++){f[g].call(this,e)}if(e.bubbles&&this.parentNode){this.parentNode.dispatchEvent(e)}};d.addEventListener=(function(e){return function(h,g,f){e.call(this,h,g,f);this.customEventHandlers=this.customEventHandlers||{};this.customEventHandlers[h]=this.customEventHandlers[h]||[];this.customEventHandlers[h].push(g)}})(d.addEventListener);d.removeEventListener=(function(e){return function(j,g,f){e.call(this,j,g,f);if(!this.customEventHandlers||!this.customEventHandlers[j]){return}for(var h=this.customEventHandlers[j].length-1;h>=0;h--){if(this.customEventHandlers[j][h]===g){this.customEventHandlers[j].splice(h,1)}}}})(d.removeEventListener)}}b(window.Element.prototype);b(window.document);b(window);window.CustomEvent=(typeof(window.CustomEvent)==="function")?window.CustomEvent:function(e,f){f=f||{bubbles:false,cancelable:false};if(window.document.createEvent){var d=document.createEvent("Event");d.detail=f.detail;d.initEvent(e,f.bubbles,f.cancelable);return d}if(window.document.createEventObject){var d=window.document.createEventObject(window.event);d.type=e;d.detail=f.detail;d.bubbles=f.bubbles;d.cancelable=f.cancelable;return d}}})();(function(){var g={attributes:{behaviors:"data-behavior",configuration:"data-{name}-config"}};var a=(!window.console||!window.console.log)?function(){}:window.console.log;var b=(!window.jQuery)?{}:window.jQuery.fn;var c=false;if(!window.Element||!window.Element.prototype){a("ALERT: InteractionLib not enabled. Missing window.Element.prototype");return false}function i(p){return !p?[]:Array.prototype.slice.call(p,0)}function d(p){p._cachedCount=p._cachedCount||p.length;return p._cachedCount}function e(p,q){q=q||window.document.body;if(!q||!q.querySelectorAll){return[]}var v="["+((!p)?g.attributes.behaviors:g.attributes.behaviors+"~="+p)+"]";var r=(!p)||q.getAttribute("data-behavior").indexOf(new RegExp("\b"+p+"\b"))>=0;var u=(!r)?[]:[q];var s=i(q.querySelectorAll(v));for(var t=0;t<d(s);t++){u.push(s[t])}return u}function m(p,s){s["applied-behaviors"]=s["applied-behaviors"]||{};if(s["applied-behaviors"][p]){return false}s["applied-behaviors"][p]=true;var t=b[p];if(!t){return false}var r=g.attributes.configuration.replace("{name}",p.toLowerCase());var q=s.getAttribute(r);if(!q){t.call(s)}else{t.call(s,JSON.parse(q))}return true}function o(q){var p=(q.getAttribute(g.attributes.behaviors)||"").split(/\s+/gi);if(!p[0]){return false}for(var r=0;r<d(p);r++){m(p[r],q)}return true}function n(q,p){var s=e(p,q);for(var r=0;r<d(s);r++){if(p){m(name,s[r])}else{o(s[r])}}}window.Element.prototype.behaviors=function(p){n(this,p)};window.Element.prototype.behaviors.add=function(q,p){b[q]=p;if(!c){return}n(false,q)};window.behaviors=window.Element.prototype.behaviors;function k(){if(!window.MutationObserver){return false}var p=new MutationObserver(function(s){if(!s||!s[0]){return}for(var q=0;q<d(s);q++){var r=s[q];if(!r.addedNodes||!r.addedNodes[0]){continue}var u=i(r.addedNodes);for(var t=0;t<d(u);t++){n(u[t])}}});p.observe(window.document.body,{childList:true,subtree:true});return true}function j(){var q=false;var p=window.document.createElement("div");p.addEventListener("DOMNodeInserted",function(){q=true});p.appendChild(window.document.createElement("div"));if(!q){return false}window.document.body.addEventListener("DOMNodeInserted",function(r){n(r.target)});return true}function l(){if(!window.Element.prototype||!window.Element.prototype.attachEvent){return false}var p=window.Element.prototype.appendChild;window.Element.prototype.appendChild=function(s){p.call(this,s);q([s]);n(s)};var r=window.Element.prototype.insertBefore;window.Element.prototype.insertBefore=function(t,s){r.call(this,t,s);q([t]);n(t)};function q(u){u=i(u);for(var s=0;s<d(u);s++){var t=u[s];t.attachEvent("onpropertychange",function(w){var v=w.srcElement||w.target;if(w.propertyName!=="innerHTML"||!v.childNodes){return}q(v.childNodes);n(v)})}}q([document]);return true}function h(){var p=k()||j()||l();if(!p){a("ALERT: InteractionLib is not monitoring DOM mutations")}}function f(){if(!window.document.body){return}window.document.removeEventListener("DOMContentLoaded",f,false);window.removeEventListener("load",f,false);h();n();c=true}if(document.readyState==="complete"){f()}else{window.document.addEventListener("DOMContentLoaded",f,false);window.addEventListener("load",f,false)}})();